if (self.CavalryLogger) { CavalryLogger.start_js(["yjKYO"]); }

__d("VideoCaptionBackgroundOpacityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionTextSizeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("VideoPlayerHTML5SubtitlesStyle",["cx","CSS","VideoCaptionBackgroundOpacityType","VideoCaptionTextSizeType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},i={DEFAULT_BACKGROUND_COLOR:"Black",DEFAULT_BACKGROUND_OPACITY:b("VideoCaptionBackgroundOpacityType").DEFAULT,DEFAULT_TEXT_COLOR:"White",DEFAULT_TEXT_SIZE:b("VideoCaptionTextSizeType").DEFAULT};a=function(){__p&&__p();function a(a,b,c,d,e,f,g){this.$5="center",this.$1=c,this.$2=d,this.setBackgroundColor(a),this.setBackgroundOpacity(b),this.setTextColor(e),this.setTextSize(f),this.setTextAlignment(g),this.updateStyle()}var c=a.prototype;c.setBackgroundColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$3=a:this.$3=i.DEFAULT_BACKGROUND_COLOR};c.setBackgroundOpacity=function(a){a!=null&&a!==0&&a>=b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&a<=b("VideoCaptionBackgroundOpacityType").OPAQUE?this.$4=a:this.$4=i.DEFAULT_BACKGROUND_OPACITY};c.setTextColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$6=a:this.$6=i.DEFAULT_TEXT_COLOR};c.setTextSize=function(a){a!=null&&a>=b("VideoCaptionTextSizeType").SMALLEST&&a<=b("VideoCaptionTextSizeType").BIGGEST?this.$7=a:this.$7=i.DEFAULT_TEXT_SIZE};c.setTextAlignment=function(a){this.$5=(a=a)!=null?a:"center"};c.updateStyle=function(){__p&&__p();var a,c=this.$4;this.$4===b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&(c=0);c=(a=c)!=null?a:i.DEFAULT_BACKGROUND_OPACITY;a=(a=this.$3)!=null?a:i.DEFAULT_BACKGROUND_COLOR;c=c/100;c="rgba("+h[a]+", "+c+")";this.$1.style.backgroundColor=c;this.$1.style.color=(c=this.$6)!=null?c:i.DEFAULT_TEXT_COLOR;c="0 0 10px rgb("+h[a]+"), 0 0 5px rgba("+h[a]+", .8)";this.$1.style.textShadow=c;b("CSS").conditionClass(this.$2,"_5z64",this.$7==b("VideoCaptionTextSizeType").SMALLEST);b("CSS").conditionClass(this.$2,"_5z65",this.$7==b("VideoCaptionTextSizeType").SMALL);b("CSS").conditionClass(this.$2,"_5z66",this.$7==b("VideoCaptionTextSizeType").MEDIUM);b("CSS").conditionClass(this.$2,"_5z67",this.$7==b("VideoCaptionTextSizeType").BIG);b("CSS").conditionClass(this.$2,"_5z68",this.$7==b("VideoCaptionTextSizeType").BIGGER);b("CSS").conditionClass(this.$2,"_5z69",this.$7==b("VideoCaptionTextSizeType").BIGGEST);b("CSS").conditionClass(this.$2,"_6mk2",this.$5==="left");b("CSS").conditionClass(this.$1,"_6mk2",this.$5==="left")};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5Subtitles",["csx","cx","CSS","DOM","DOMQuery","VideoPlayerHTML5SubtitlesStyle"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.append,d=a.drawer,e=a.existingNodesContainer;a=a.boundingBox;this.$1=null;this.$2=null;this.$3="";this.$4=null;this.$5=null;this.$6=null;this.$8=null;e=b("DOMQuery").scry(e,"._30vn");var f;e.length?(e=e[0],f=b("DOMQuery").find(e,"._30vo")):(e=b("DOM").create("div",{className:"_30vn hidden_elem"}),f=b("DOM").create("span",{className:"_30vo hidden_elem"}),b("DOM").setContent(e,f));this.$1=e;this.$2=f;this.$8=c(e);this.$4=d;this.$5=d.addListener("reposition",this.$9.bind(this));this.$7=a;this.$10()}var c=a.prototype;c.handleBoundingBoxChanged=function(a){this.$7=a,this.$10()};c.handleSubtitlesChanged=function(a,b){this.$11(a),this.$12(b)};c.setSubtitlesStyle=function(a,c,d,e){var f=this.$6;if(f)f.setBackgroundColor(a),f.setBackgroundOpacity(c),f.setTextColor(d),f.setTextSize(e),f.updateStyle();else{f=this.$2;var g=this.$1;f&&g&&(this.$6=new(b("VideoPlayerHTML5SubtitlesStyle"))(a,c,f,g,d,e,"center"))}};c.showSubtitles=function(){var a=this.$1;a&&b("CSS").removeClass(a,"hidden_elem");a=this.$4;a&&(a.reposition(),a.reserve())};c.hideSubtitles=function(){var a=this.$1;a&&b("CSS").addClass(a,"hidden_elem");a=this.$4;a&&a.release()};c.destroy=function(){var a=this.$5;a&&(a.remove(),this.$5=null);a=this.$4;a&&(a.release(),a.removeAllListeners(),this.$4=null);a=this.$8;a&&a();this.$1=null;this.$2=null};c.$10=function(){var a=this.$7,c=this.$1;c&&(a.width<350?(b("CSS").removeClass(c,"_30vp"),b("CSS").addClass(c,"_30vq")):a.width<800?(b("CSS").removeClass(c,"_30vp"),b("CSS").removeClass(c,"_30vq")):(b("CSS").removeClass(c,"_30vq"),b("CSS").addClass(c,"_30vp")))};c.$9=function(a){var c=this.$1;c&&b("DOM").setAttributes(c,{style:"bottom:"+a+"px;"})};c.$12=function(a){a=a.textAlignment;var c=this.$6;if(c)c.setTextAlignment(a),c.updateStyle();else{c=this.$2;var d=this.$1;c&&d&&(this.$6=new(b("VideoPlayerHTML5SubtitlesStyle"))(void 0,void 0,c,d,void 0,void 0,a))}};c.$11=function(a){__p&&__p();a=a.map(function(a){return a.trim()}).filter(function(a){return!!a}).join("\n").trim();var c=this.$3;this.$3=a;var d=this.$1,e=this.$2,f=this.$4;if(!d||!e||!f)return;this.$10();a!==c&&b("DOM").setContent(e,a);a?(b("CSS").removeClass(e,"hidden_elem"),f.setHeight(d.offsetHeight)):(b("CSS").addClass(e,"hidden_elem"),f.setHeight(0))};return a}();e.exports=a}),null);
__d("SubRipText",[],(function(a,b,c,d,e,f){__p&&__p();var g={size:"90%"};function h(a){__p&&__p();var b=Number(a.substr(0,a.length-1)),c=a.substr(-1);switch(c){case"s":return b;case"m":return b*60;case"h":return b*3600}c=a.split(":");b=Number(c[c.length-1].replace(/,/,"."));c.length>1&&(b+=Number(c[c.length-2])*60);c.length>2&&(b+=Number(c[c.length-3])*3600);return b}function i(a){__p&&__p();a=a.split(/\r\n|\r|\n/).map(function(a){return a.trim()});var b=[],c=0;do{var d=a.indexOf("",c);d<0&&(d=a.length);var e=k(a.slice(c,d));e&&b.push(e);c=d+1}while(c>0&&c<a.length);return b}function j(a){a=a.split("-->");if(a.length!=2)return null;var b=h(a[0].trim());a=h(a[1].trim());return Number.isNaN(a)||Number.isNaN(b)?null:{begin:b,end:a}}function k(a){if(a.length<3)return null;var b=l(a[0]),c=j(a[1]);return!c?null:{counter:b,begin:c.begin,end:c.end,text:a.slice(2,6)}}function l(a){return Number(a.trim())}function m(a){a=a.split(".");return a[0].length<2?"0"+a.join("."):a.join(".")}function n(a){var b=m(Math.floor(a/3600).toString()),c=m(Math.floor(a%3600/60).toString());a=m((a%60).toFixed(3));return b+":"+c+":"+a}function o(a,b,c){var d="";if(c)for(var e in c)d+=" "+e+":"+c[e];return n(a)+" --> "+n(b)+d}function p(a,b){return a.counter+"\n"+o(a.begin,a.end,b)+"\n"+a.text.join("\n")+"\n"}function q(a,b){return"WEBVTT\n\n"+a.map(function(a){return p(a,b)}).join("\n")}a=function(){"use strict";__p&&__p();function a(a){var b=this;this.$1=i(a);this.$1.sort(function(a,b){return a.counter-b.counter});this.$2=this.$1.map(function(a,b){return b}).sort(function(a,c){return b.$1[a].begin-b.$1[c].begin});this.invalidateCache();this.$6=g}var b=a.prototype;b.$7=function(a){return this.$1[this.$2[a]]};b.$8=function(a){var b=this.$3;while(b<this.$2.length){var c=this.$7(b);if(c.begin<=a)this.$4.push(c),b++;else break}this.$3=b};b.$9=function(a){this.$4=this.$4.filter(function(b){return b.end>a})};b.invalidateCache=function(){this.$5=0,this.$4=[],this.$3=0};b.setStyle=function(a){this.$6=a};b.getSubtitles=function(a){a<this.$5&&this.invalidateCache();this.$5=a;this.$8(a);this.$9(a);return this.$4.reduce(function(a,b){return a.concat(b.text)},[])};b.renderVTT=function(){return q(this.$1,this.$6)};return a}();e.exports=a}),null);
__d("VideoPlayerWebVttSubtitleStream",["BlobFactory","DOM","Event","SubRipText","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=a.URL||a.webkitURL;function h(a){a=new(b("SubRipText"))(a);var c=b("BlobFactory").getBlob([a.renderVTT()],{type:"text/vtt"});c=g.createObjectURL(c);return{parsedSubtitles:a,vttBlobUri:c}}function i(a,c,d){var e=b("DOM").create("track",{kind:"captions",src:c}),f=b("Event").listen(e,"load",d);b("DOM").appendContent(a,e);Array.prototype.forEach.call(a.textTracks,function(a){a.mode="hidden"});return function(){f&&(f.remove(),f=null),e&&(b("DOM").remove(e),e=null)}}c=function(){__p&&__p();function a(a){__p&&__p();var b=a.onSubtitlesLoaded;a=a.onSubtitlesChanged;this.$1=null;this.$2=null;this.$3=null;this.$4=null;this.$5=null;this.$6=null;this.$1=b;this.$2=a}var c=a.prototype;c.loadSubtitles=function(a,b){this.$7(),this.$3=this.$8(a,b)};c.handleTimeUpdate=function(a){this.$9(a)};c.destroy=function(){this.$1=null,this.$2=null,this.$7()};c.$7=function(){var a=this.$3;a&&(a(),this.$3=null);a=this.$4;a&&(a(),this.$4=null);this.$5=null;this.$6=null};c.$8=function(a,c){__p&&__p();var d=this;if(!g||!b("BlobFactory").isSupported())return function(){};var e=new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){__p&&__p();if(!e)return;a=h(a);var b=a.parsedSubtitles;a=a.vttBlobUri;d.$5=b;d.$4=i(c,a,function(){if(!e)return;d.$9(c.currentTime)})});e.send();return function(){e&&(e.abort(),e=null)}};c.$9=function(a){var b=this.$5;b?this.$10(b.getSubtitles(a),{textAlignment:"center"}):this.$10([],{textAlignment:"center"})};c.$10=function(a,b){if(this.$6==null||this.$6.length!==a.length||this.$6.some(function(b,c){return b!==a[c]})){var c=this.$1;c&&(c(),this.$1=null);c=this.$2;c&&c(a,b)}this.$6=a};return a}();e.exports=c}),null);