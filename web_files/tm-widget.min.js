window.tmModal=window.tmModal||(function(){function d(){this.id="default";this.width=400;this.height=600;this.html="";this.onRenderComplete=function(e){};return this}function a(f){var e='<style>    .tm-modal-height-${id} { height: ${H}; }    .tm-modal-width-${id} { width: ${W}; }</style><div id="tmModalFull" class="tm-modal-full">    <div id="tmModalBg" class="tm-modal-overlay"></div>    <div class="tm-modal-main-control">      <a id="tmCloseButton" class="tm-modal-close-bg">&nbsp;</a>      <div id="tmModalWrapper" class="tm-modal-content-wrapper tm-modal-width tm-modal-width-${id}">        <div class="tm-modal-width tm-modal-width-${id} tm-modal-height tm-modal-height-${id}">          <div id="tmCloseIcon" class="tm-modal-close-icon">            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">              <circle cx="13" cy="13" r="12" fill="rgba(0,0,0,.65)"/>              <rect x="6.30908" y="8.66357" width="3.33071" height="15.5952" rx="1" transform="rotate(-45 6.30908 8.66357)" fill="#FFF"/>              <rect x="17.3364" y="6.30859" width="3.33071" height="15.5952" rx="1" transform="rotate(45 17.3364 6.30859)" fill="#FFF"/>            </svg>          </div>            <div id="tmModalContent" class="tm-modal-content tm-modal-width tm-modal-width-${id} tm-modal-height tm-modal-height-${id}">                ${html}            </div>         </div>      </div>    </div>  </div></div>';var g=document.createElement("div");g.innerHTML=e.replace(/\$\{id\}/ig,f.id).replace(/\$\{W\}/ig,f.width+"px").replace(/\$\{H\}/ig,f.height+"px").replace(/\$\{W\/2\}/ig,f.width/2+"px").replace(/\$\{H\/2\}/ig,f.height/2+"px").replace("${html}",f.html);document.body.appendChild(g);document.getElementById("tmCloseButton").onclick=function(h){g.parentElement.removeChild(g)};if(typeof f.onRenderComplete==="function"){f.onRenderComplete(document.getElementById("tmModalContent"))}}function b(){var f="    .tm-modal-full { position:fixed; top:0; bottom:0; left:0; right:0; z-index: 1000000; }    .tm-modal-overlay { position:absolute; top:0; bottom:0; left:0; right:0; background-color:#000; opacity: 0.5; overflow:hidden; }    .tm-modal-main-control { position:absolute; top:0px; bottom:0px; left:10px; right:10px; }    .tm-modal-close-bg { position:absolute; top:0; bottom:0; left:-10px; right:-10px; cursor:default; font-size:0; line-height:0; }    .tm-modal-close-icon { position:absolute; top:-30px; right:0; width:26px; height:26px; pointer-events:none; }    .tm-modal-content-wrapper { position:absolute; top:calc(50%); left:50%; transform:translate(-50%, -50%); display:block; height:auto; max-width:100%; }    .tm-modal-content-wrapper:first-child { position:relative; }    .tm-modal-content { background-color: #fff; }    /* REFACTOR: iframe CSS does not belong here in this generic implementation */    .tm-modal-height, .tm-modal-height iframe { max-height: 90vh; }    .tm-modal-width, .tm-modal-width iframe { max-width: 100%; }";var e=document.createElement("style");e.innerHTML=f;document.body.appendChild(e)}function c(e){e=e||new d();if(!c._isGenericStylesInitialized){c._isGenericStylesInitialized=true;b()}a(e)}c._isGenericStylesInitialized=false;return c})();var TMSignUpWidget=TMSignUpWidget||{instances:{},counter:0,InitWidget:function(e,d,h,b,g,a){var c=e;if(this.counter>0){c+="_"+this.counter}this.counter++;var f=this.instances[c]=new this.TMWidget();f.InitWidget(e,d,h,b,g,a)}};(function(){var a=this;var b=location.href;TMSignUpWidget.TMWidget=function(){var g,f,j,d,h,c,e,i;function l(m){return document.getElementById("tm-widget-"+m)}function k(m){document.write('<span class="tm-widget" id="tm-widget-'+m+'"></span>');return l(m)}this.InitWidget=function(p,o,r,n,q,m){g=p;f=o;j=r;d=n;h=q;c=m;i=l(p);if(!i){i=k(p)}if(typeof(WebAnalytics)=="undefined"){e="0";this.RenderWidget()}else{if(typeof(WebAnalytics)!="undefined"&&typeof(WebAnalytics.IsAnalyticsProcessed)=="function"&&WebAnalytics.IsAnalyticsProcessed()){e="0";this.RenderWidget()}else{WebAnalytics.setAnalyticsLoadCallback(this.RenderWidget);return}}};this.RenderWidget=function(){if(!i){if(console){console.log("tm-widget "+g+" could not be loaded. _widget_div not found")}return}if(typeof(h)=="undefined"){h="0"}if(typeof(c)=="undefined"){c="true"}if(typeof(WebAnalytics)!="undefined"){e=WebAnalytics.getVisitorId()}var o=location.protocol+"//"+f+"/tmsubscribe.net/WidgetPreview.aspx?sid="+g+"&servername="+f+"&piwikuserid="+e+"&UserId="+h+"&url="+encodeURIComponent(b)+"&ck="+c;var m;var p;if(isNaN(j)){p=j}else{p=(parseInt(j)).toString()}if(isNaN(d)){m=d}else{m=(parseInt(d)).toString()}var n=document.createElement("iframe");n.frameBorder=0;n.width="100%";n.height=m;n.setAttribute("src",o);n.setAttribute("style",("border:0px;max-width:"+p+"px;"));i.appendChild(n);return this}}})();window.TMSurveyModal=window.TMSurveyModal||(function(f){function b(g){return"tm-widget-trigger-"+g}function c(g){return document.getElementById(b(g))}function a(i,g,h){if(typeof i==="string"){i=document.getElementById(i)}if(i.addEventListener){i.addEventListener(g,h,false)}else{if(i.attachEvent){i.attachEvent("on"+g,h)}}return this}function e(g){throw new DOMException('TM widget element does not exist for id="'+b(g)+'".')}function d(j,i,l,h,k,g){var m=c(j);if(!m){e(j)}a(m,"click",function(){f({id:j,width:l,height:h,html:'<span class="tm-widget" id="tm-widget-'+j+'"></span>',onRenderComplete:function(){TMSignUpWidget.InitWidget(j,i,l,h,k,g)}})}.bind(this))}return{init:d}})(tmModal);